{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/Constants.js",
    "src/ConstantsKey.js",
    "src/index.js",
    "src/objects/Character.js",
    "src/objects/Controls.js",
    "src/objects/InformationString.js",
    "src/objects/MapManager.js",
    "src/states/Commands.js",
    "src/states/FinalScene.js",
    "src/states/Introduction.js",
    "src/states/MainMenu.js",
    "src/states/MainView.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "export const Width = 1024;\nexport const Height = 576;\nexport const Size = 32;\nexport const WidthLevel = Size * 34;\nexport const HeightLevel = Size * 19;\nexport const CursorLength = 3;\nexport const CursorSize = CursorLength * Size;\nexport const WidthSpriteSheetHero = 64;\nexport const HeightSpriteSheetHero = 96;\nexport const HeroRatio = 0.75;\nexport const BabyRatio = 0.50;\n\nexport const TextPosition = 55;\n\nexport const TextColor = \"#8cc169\";\n\n\nexport const Code = \"9356\";\nexport const StyleRef = { font: \"bold 8px Arial\", fill: \"#000\", boundsAlignH: \"center\", boundsAlignV: \"middle\" };\nexport const Style = { font: \"bold 18px Arial\", fill: \"#fff\", boundsAlignH: \"center\", boundsAlignV: \"middle\" };\n\nexport const BackgroundColor = 0x212A43\n\nexport const HudText = \"Gems : \";\nexport const HudTextX = 10;\nexport const HudTextY = 540;\n",
    "const Key = \"Test\";\n\nexport const MaxLevel = 15;\n\nexport const Tileset = {\n  path: \"tileset.png\",\n  key: \"tileset\"\n  };\n\nexport const Level1 = {\n  path: \"LVL_1.json\",\n  key: Key,\n  lastLayer: 3,\n  text: \"OMG ! Someone took away the children of the village !\",\n  playerPosition: {x: 64, y: 352}\n};\n\nexport const Level2 = {\n  path: \"LVL_6.json\",\n  key: Key,\n  lastLayer: 3,\n  text: \"He wants you to bring him gems in exchange for the children.\",\n  playerPosition: {x: 64, y: 20}\n};\n\nexport const Level3 = {\n  path: \"LVL_2.json\",\n  key: Key,\n  lastLayer: 2,\n  text: \"The gap is too large for a classic jump, thankfully you have some powers.\",\n  playerPosition: {x: 64, y: 352}\n};\n\nexport const Level4 = {\n  path: \"LVL_7.json\",\n  key: Key,\n  lastLayer: 2,\n  text: \"\",\n  playerPosition: {x: 64, y: 20}\n};\n\n\nexport const Level5 = {\n  path: \"LVL_3.json\",\n  key: Key,\n  lastLayer: 2,\n  text: \"Switching layers might help you but also block you, think about the rollback...\",\n  playerPosition: {x: 64, y: 352}\n};\n\nexport const Level6 = {\n  \"path\": \"LVL_three_level_gems.json\",\n  \"key\": \"Test\",\n  \"lastLayer\": 1,\n  \"text\": \"Look ! Some gems seem hidden.\",\n  \"playerPosition\":{\"x\":64,\"y\":344}\n};\n\nexport const Level7 = {\n  \"path\": \"LVL_leap_of_death.json\",\n  \"key\": \"Test\",\n  \"lastLayer\": 2,\n  \"text\": \"Nature might need to be dealt with.\",\n  \"playerPosition\":{\"x\":64,\"y\":280}\n};\n\nexport const Level8 =\n{\n  \"path\" : \"bridge.json\",\n  \"key\": \"Test\",\n  \"lastLayer\": 1,\n  \"text\": \"Sometimes there's more than meet the eye.\",\n  \"playerPosition\":{\"x\":64,\"y\":140}\n};\n\nexport const Level9 = {\n  path: \"LVL_4.json\",\n  key: Key,\n  lastLayer: 1,\n  text: \"You may need to remove more than one layer\",\n  playerPosition: {x: 64, y: 352}\n};\n\nexport const Level666 = {\n  path: \"LVL_final_cut_scene.json\",\n  key: Key,\n  lastLayer: 1\n};\n\nexport const Level10 =\n{\n  \"path\" : \"LVL_patchwork.json\",\n  \"key\": \"Test\",\n  \"lastLayer\": 1,\n  \"text\": \"OMG! The world all messed up, it might need a fix.\",\n  \"playerPosition\":{\"x\":64,\"y\":60}\n};\n\nexport const Level11 = {\n  \"path\": \"LVL_9.json\",\n  \"key\": \"Test\",\n  \"lastLayer\": 1,\n  \"text\": \"Sometimes, you need a difference perspective.\",\n  \"playerPosition\":{\"x\":500,\"y\":80}\n};\n\nexport const Level12 =\n{\n  \"path\" : \"flashJump.json\",\n  \"key\": \"Test\",\n  \"lastLayer\": 1,\n  \"text\": \"Don't be afraid to switch universes.\",\n  \"playerPosition\":{\"x\":64,\"y\":118}\n};\n\nexport const Level13 =\n  { \"path\": \"LVL_10.json\",\n    \"key\": \"Test\",\n    \"lastLayer\": 1,\n    \"text\": \"More can mean less.\",\n    \"playerPosition\":{\"x\":64,\"y\":352}\n};\n\nexport const Level14 =\n{ \"path\" : \"MaxTrigger2.json\",\n  \"key\": \"Test\",\n  \"lastLayer\": 1,\n  \"text\": \"Knowledge is power.\",\n  \"playerPosition\":{\"x\":24,\"y\":438}\n};\n\nexport const Level15 = {\n  \"path\": \"theEndIsNigh.json\",\n  \"key\": \"Test\",\n  \"lastLayer\": 1,\n  \"text\": \"It feels like a treasure is ahead of us !\",\n  \"playerPosition\": {\"x\": 36, \"y\": 246}\n};\n\nexport const Levels = {\n  Level1,\n  Level2,\n  Level3,\n  Level4,\n  Level5,\n  Level6,\n  Level7,\n  Level8,\n  Level9,\n  Level10,\n  Level11,\n  Level12,\n  Level13,\n  Level14,\n  Level15,\n  Level666\n};\n\nexport const HeroSprite = {\n  key: \"hero\",\n  path: \"hero.png\"\n}",
    "import MainView from 'states/MainView';\nimport MainMenu from 'states/MainMenu';\nimport Commands from 'states/Commands';\nimport Introduction from 'states/Introduction';\nimport FinalScene from 'states/FinalScene';\nimport { Width, Height } from  \"./Constants.js\"\n\nclass Game extends Phaser.Game {\n\n  constructor() {\n    super(Width, Height, Phaser.AUTO, 'content', null);\n    this.currentLevel = 1;\n    this.state.add('MainMenu', MainMenu, false);\n    this.state.add('Commands', Commands, false);\n    this.state.add('Introduction', Introduction, false);\n    this.state.add('MainView', MainView, false);\n    this.state.add('FinalScene', FinalScene, false);\n    this.state.start('MainMenu');\n  }\n\n  goToMainGame() {\n     this.state.start('MainView');\n  }\n\n  goToCommands() {\n    this.state.start('Commands');\n  }\n\n  goToIndroduction() {\n    this.state.start('Introduction');\n  }\n\n  goToFinalScene() {\n    this.state.start('FinalScene');\n  }\n\n  goToMenu() {\n    this.state.start('MainMenu');\n    this.currentLevel = 1;\n  }\n\n\n  reset() {\n    this.state.start('MainView', Phaser.Plugin.StateTransition.In.ScaleUp, Phaser.Plugin.StateTransition.Out.SlideBottom, true, true, this.currentLevel);\n  }\n\n  nextLevel() {\n    this.currentLevel++;\n    this.state.start('MainView', Phaser.Plugin.StateTransition.In.SlideLeft, null, true, true, this.currentLevel);\n  }\n}\n\nnew Game();\n",
    "import { HeroRatio } from \"../Constants.js\";\nconst LimitY = 550;\nconst TimeLapse = 10;\n\nclass Character extends Phaser.Sprite {\n\n  constructor(game, x, y, key, frame) {\n    super(game, x, y, key, frame);\n    //Enable physics on the player\n    game.physics.arcade.enable(this);\n    this.body.bounce.x = this.body.bounce.y = 0;\n\n    this.upKey = game.input.keyboard.addKey(this.game.controls.getKey(\"jump\"));\n    this.leftKey = game.input.keyboard.addKey(this.game.controls.getKey(\"left\"));\n    this.rightKey = game.input.keyboard.addKey(this.game.controls.getKey(\"right\"));\n    this.button = this.game.controls.pad.getButton(Phaser.Gamepad.XBOX360_A);\n\n    this.locked = true;\n\n    this.jumpCount = 0;\n\n    this.body.gravity.y = 0;\n    const fn = () => {\n      this.body.gravity.y = 750;\n      this.locked = false;\n      this.upKey.onDown.add(this.checkDoubleJump, this);\n      if(this.game.controls.hasGamepad()) {\n        this.button.onDown.add(this.checkDoubleJump, this);\n      }\n    };\n    setTimeout(fn, 500);\n    const leftArray = [0,1,2,3,4,5,6,8,9,10,11,12,13,14,15];\n    const rightArray = [31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16];\n    const JumpArrayRight = [64,65,66];\n    const JumpArrayLeft = [80, 81,82];\n    const PowerLeft = [48,48,48,48];\n    const PowerRight = [32,32,32,32];\n    const IdleRight = [96,97,98,99,100,101,102,103,104,105,106,107,108, 109, 110];\n    const IdleLeft = [128,129,130,131, 132,133,134,135,136,137,138,139,140,141,142];\n    this.scale.setTo(HeroRatio, HeroRatio);\n\n    this.animations.add('jumpLeft', JumpArrayLeft, TimeLapse, true);\n    this.animations.add('jumpRight', JumpArrayRight, TimeLapse, true);\n    this.animations.add('left', rightArray, TimeLapse, true);\n    this.animations.add('right', leftArray, TimeLapse, true);\n    this.animations.add('powerLeft', PowerLeft, TimeLapse, true);\n    this.animations.add('powerRight', PowerRight, TimeLapse, true);\n    this.animations.add('idleRight', IdleRight, TimeLapse, true);\n    this.animations.add('idleLeft', IdleLeft, TimeLapse, true);\n    this.direction = 1;\n  }\n\n  update() {\n    if(this.locked) {\n      this.body.velocity.x = 0;\n      return;\n    }\n\n    if (this.leftKey.isDown || (this.game.controls.hasGamepad() && this.game.controls.pad.axis(Phaser.Gamepad.XBOX360_STICK_LEFT_X) < -0.5 )) {\n        this.body.velocity.x = -200;\n        this.animations.play(\"left\", TimeLapse);\n        this.direction = -1;\n    }\n    else if (this.rightKey.isDown || (this.game.controls.hasGamepad() && this.game.controls.pad.axis(Phaser.Gamepad.XBOX360_STICK_LEFT_X) > 0.5 )) {\n        this.body.velocity.x = 200;\n        this.animations.play(\"right\", TimeLapse);\n        this.direction = 1;\n    } else {\n      this.body.velocity.x = 0;\n    }\n\n    // // Make the player jump if he is touching the ground\n    // if (this.upKey.isDown  && this.jumpCount < 2) {\n    //   console.log('jumpCount')\n    //   this.body.velocity.y = -225;\n    //   if(this.body.velocity.x === 0) {\n    //     if(this.direction === -1) {\n    //       this.animations.play(\"jumpLeft\", TimeLapse);\n    //     } else {\n    //       this.animations.play(\"jumpRight\", TimeLapse);\n    //     }\n    //   }\n    //   this.jumpCount++;\n    // }\n\n    if(this.body.velocity.x == 0 && this.body.velocity.y == 0){\n      if (this.direction == -1) {\n        this.animations.play(\"idleLeft\", TimeLapse);\n      } else {\n        this.animations.play(\"idleRight\", TimeLapse);\n      }\n      //this.frame = this.direction ===  1 ? 0 : 29;\n    }\n\n    if(this.body.onFloor()) {\n       this.jumpCount = 0;\n    }\n  }\n\n  checkDoubleJump() {\n    if(this.jumpCount < 2) {\n      //due to the gamepad\n      if(!this.body) return\n      this.body.velocity.y = -225;\n       if(this.body.velocity.x === 0) {\n         if(this.direction === -1) {\n           this.animations.play(\"jumpLeft\", TimeLapse);\n         } else {\n           this.animations.play(\"jumpRight\", TimeLapse);\n         }\n      }\n      this.jumpCount++;\n    }\n  }\n\n  isDeath() {\n    if (!this.body) {\n      return false;\n    }\n    return this.body.position.y > LimitY;\n  }\n\n  eraseBlocksAnimation(cursor) {\n    if(this.x < cursor.x) {\n      this.frame = 32;\n      this.direction = 1;\n      //this.animations.play('powerLeft', TimeLapse);\n    } else {\n      this.frame = 48;\n      this.direction = -1;\n      //this.animations.play('powerRight', TimeLapse);\n    }\n  }\n}\n\nexport default Character;",
    "const Actions = [\"left\", \"right\", \"jump\", \"moveLeftCursor\", \"moveRightCursor\", \"moveDownCursor\", \"moveUpCursor\", \"undoLayer\", \"removeLayer\"];\n\nclass Controls {\n  constructor(game, controlsSettings = {}, actionList = Actions) {\n    this.game = game;\n    this.controlsSettings = controlsSettings;\n    this.actionList = actionList;\n    this.isQwerty = true;\n    this.game.input.gamepad.start();\n    this.pad = this.game.input.gamepad.pad1;\n    this.isMovingRightPad = false;\n  };\n\n  getKey(action) {\n    if(!this.controlsSettings[action]) {\n      console.error(`cannot find ${action} in the action list`);\n    }\n    return this.controlsSettings[action];\n  }\n\n  addControls(params) {\n    Object.keys(params).forEach(action => this.addControl(params[action], action));\n  }\n\n  qwertyKeyboard() {\n    return {\n      \"left\" : Phaser.Keyboard.A,\n      \"right\" : Phaser.Keyboard.D,\n      \"jump\" : Phaser.Keyboard.W,\n      \"undoLayer\" : Phaser.Keyboard.SPACEBAR,\n      \"removeLayer\" : Phaser.Keyboard.SHIFT\n    }\n  }\n\n  azertyKeyBoard() {\n    return {\n      \"left\" : Phaser.Keyboard.Q,\n      \"right\" : Phaser.Keyboard.D,\n      \"jump\" : Phaser.Keyboard.Z,\n      \"undoLayer\" : Phaser.Keyboard.SPACEBAR,\n      \"removeLayer\" : Phaser.Keyboard.SHIFT\n    }\n  }\n\n  padConfig() {\n    return {\n      \"jump\" : Phaser.Gamepad.XBOX360_A,\n      \"undoLayer\" : Phaser.Gamepad.XBOX360_X,\n      \"removeLayer\" : Phaser.Gamepad.XBOX360_B,\n\n    }\n  }\n\n  injectPropsDueToKeyboardType() {\n    if(!this.isQwerty) {\n      return this.azertyKeyBoard();\n    }\n    return this.qwertyKeyboard();\n  }\n\n  defaultConfig() {\n    const defaultConfigParams = {\n        \"moveLeftCursor\" : Phaser.Keyboard.A,\n        \"moveRightCursor\" : Phaser.Keyboard.D,\n        \"moveDownCursor\": Phaser.Keyboard.S,\n        \"moveUpCursor\" : Phaser.Keyboard.W,\n      };\n      this.addControls(defaultConfigParams);\n  }\n\n  PostMortemDefaultConfig() {\n    let defaultConfigParams = {\n        \"moveLeftCursor\" : Phaser.Keyboard.LEFT,\n        \"moveRightCursor\" : Phaser.Keyboard.RIGHT,\n        \"moveDownCursor\": Phaser.Keyboard.DOWN,\n        \"moveUpCursor\" : Phaser.Keyboard.UP,\n      };\n\n      defaultConfigParams = Object.assign({}, defaultConfigParams, this.injectPropsDueToKeyboardType());\n      this.addControls(defaultConfigParams);\n  }\n\n  // // { {ref: pointer, action: left key: Z}}\n  // setUpControl(params) {\n\n  //   this.keyUndoLayer = this.game.input.keyboard.addKey(Phaser.Keyboard.B);\n  //   this.keyUndoLayer.onDown.add(this.undoBlockKeyboard, this);\n  // }\n\n  addControl(key, action) {\n    if(!this.actionList.includes(action)) {\n      console.error(`the action named '${action}' does not exist`);\n    }\n    this.controlsSettings[action] = key;\n  }\n\n  toggleKeyboardType() {\n    this.isQwerty = !this.isQwerty;\n    this.PostMortemDefaultConfig();\n  }\n\n  export() {\n    return this.controlsSettings;\n  }\n\n  delayControl(timer) {\n    const fn = () => { this.isMovingRightPad = false};\n    setTimeout(fn, timer);\n  }\n\n\n  hasGamepad() {\n    return this.game.input.gamepad.supported && this.game.input.gamepad.active && this.game.input.gamepad.pad1.connected;\n  }\n\n}\nexport default Controls;",
    "import { TextPosition , Style, Height, WidthLevel } from '../Constants.js';\n\nconst Timer = 9000;\n\nclass InformationString extends Phaser.Text {\n\n  constructor(game, x, text, timer = Timer) {\n    super(game, x, TextPosition, text, Style);\n    game.input.keyboard.addCallbacks(this, null, null, this.keyPress);\n    this.anchor.set(0.5);\n    this.visible = false;\n    this.timer = timer;\n\n    if(text.length !== 0) {\n      this.bar = game.add.graphics();\n      this.bar.beginFill(0x000000, 0.2);\n      this.bar.drawRect(0, 0, WidthLevel, 80);\n    }\n  }\n\n  blink() {\n    const fn = () => {\n      this.visible  = false;\n      if(this.bar) this.bar.destroy();\n    };\n    setTimeout(fn, this.timer);\n    this.visible = true;\n  }\n\n}\n\nexport default InformationString;",
    "import { CursorLength, Width, Height, Size, WidthLevel, HeightLevel } from '../Constants.js';\n\nconst LengthAnimation = 50;\nconst MaxLayer = 3;\nconst DefaultTiles = [{layer_index: 3, tile: 1152}, {layer_index: 2, tile: 1184}, {layer_index: 1, tile: 1216}]\n\nclass MapManager {\n\n  constructor(map, lastLayerAvailable) {\n    this.removedBlock = [];\n    this.cacheCollisionLayer = [];\n    this.lastLayerAvailable = lastLayerAvailable;\n    this.map = map;\n    this.nbGems = 0;\n    this.currentGems = 0;\n    this.doorSprites = [];\n    this.visibleDoor = false;\n    //animation during erase, so you we have to lock rollabck during erase processing\n    this.lockRollback = false;\n    this.nbFinishedFunctions = 0;\n  }\n\n  shouldPicked(tile) {\n    return tile.properties.is_gem == 1 || tile.properties.layer_gem == 1 || tile.properties.trigger === true;\n  }\n\n  findLayerToDestroy(x, y, lengthX, lengthY) {\n    //layer can be deleted 3 and 2\n    let layerIndex = MaxLayer;\n    for(let index = MaxLayer; index > 1; index--) {\n      if( this.map.getTile(x, y, index) === null &&\n          this.map.getTile(x + lengthX-1, y + lengthY-1, index) === null) {\n        layerIndex--;\n      } else {\n        break;\n      }\n    }\n    //impossible\n    if(layerIndex <= 1 ||  layerIndex <= this.lastLayerAvailable) {\n      return -1;\n    }\n    return layerIndex;\n  }\n\n  setUpCollisionLayer(colissionLayer) {\n    colissionLayer.layer.data.forEach(column => {\n      column.forEach(tile => {\n        if(tile.properties.layer_index && tile.properties.layer_index != MaxLayer) {\n          this.cacheCollisionLayer.push(tile);\n          this.map.removeTile(tile.x, tile.y, \"colissionLayer\");\n         }\n\n         if(tile.properties.layer_index) {\n          tile.alpha = 0;\n         }\n\n        if(this.shouldPicked(tile)) {\n          if(tile.properties.layer_index == MaxLayer) {\n            tile.alpha = 1;\n          } else {\n            tile.alpha = 0;\n          }\n        }\n\n        if(tile.properties.is_gem == 1) {\n          this.nbGems++;\n        }\n\n        if(tile.properties.portal == 1) {\n          this.doorSprites.push(tile);\n          tile.alpha = 0;\n        }\n      });\n    });\n  }\n\n  checkIfLock() {\n    const nbFunctionMax = CursorLength * CursorLength;\n    this.nbFinishedFunctions++;\n    if(this.nbFinishedFunctions === nbFunctionMax) {\n      this.lockRollback = false;\n      this.nbFinishedFunctions = 0;\n    }\n  }\n\n  eraseBlock(x, y, timerAnim = LengthAnimation, removeLock = false) {\n    if(this.lockRollback === true) {\n       return;\n     }\n    const lengthY = CursorLength;\n    const lengthX = CursorLength;\n    //check the layers associated to the deletion;\n    let objectsRemoves = [];\n    let indexRemoval = 0;\n    const layerIndex = this.findLayerToDestroy(x, y, lengthX, lengthY);\n    //cannot destroy\n    if(layerIndex == -1) {\n      return;\n    }\n    for(let xAxis = x; xAxis < x + lengthX; xAxis++) {\n      for(let yAxis = y; yAxis < y + lengthY; yAxis++) {\n        this.handleCollisionBlockOnErase(xAxis, yAxis, layerIndex);\n        const tile = this.map.getTile(xAxis, yAxis, layerIndex);\n        objectsRemoves.push(tile);\n        const fn = () => {\n          this.map.removeTile(xAxis, yAxis, layerIndex);\n          this.checkIfLock();\n        }\n        indexRemoval++;\n        this.lockRollback = true && !removeLock;\n        setTimeout(fn, indexRemoval * timerAnim);\n        if(indexRemoval > CursorLength) {\n          indexRemoval = 0;\n        }\n      }\n    }\n    this.removedBlock.push({tiles: objectsRemoves, layerIndex: layerIndex, x, y});\n    this.removedBlock.sort(this.sortByLayerIndex);\n  }\n\n  removeLayer() {\n    for(let x = 0; x < WidthLevel / Size; x += CursorLength) {\n      for(let y = 0; y < HeightLevel / Size; y += CursorLength) {\n        this.eraseBlock(x,y, 0, true);\n      }\n    }\n  }\n\n  undoLayer() {\n    for(let x = 0; x < WidthLevel / Size; x += CursorLength) {\n      for(let y = 0; y < HeightLevel / Size; y += CursorLength) {\n        this.undoBlock(x,y, 0, true);\n      }\n    }\n  }\n\n  handleCollisionBlockOnErase(x,y, layerIndex) {\n    let collidedTile = this.map.getTile(x, y, \"colissionLayer\");\n    if(collidedTile && collidedTile.properties) {\n      if(collidedTile.properties.layer_index >= layerIndex) {\n        if(!collidedTile.properties || !collidedTile.properties.portal) {\n          this.cacheCollisionLayer.push(collidedTile);\n          this.map.removeTile(x, y, \"colissionLayer\");\n        }\n      }\n    } else{\n      //dont find the tile in the layer, so the tile might be in the deleted tiles\n      let indexRemoveCollisionBlock = 0;\n      const tileToInsert = this.cacheCollisionLayer.find((tile, index) => {\n        indexRemoveCollisionBlock = index;\n        return tile.x === x && tile.y === y;\n      });\n      if(!tileToInsert) {\n        return;\n      }\n      if(tileToInsert.properties.layer_index == layerIndex - 1) {\n        let newTile = this.map.putTile(tileToInsert, tileToInsert.x, tileToInsert.y, \"colissionLayer\");\n        //copy property\n        newTile.properties = Object.assign({}, tileToInsert.properties);\n        if(!this.shouldPicked(newTile)) {\n          newTile.alpha = 0;\n        }\n        this.cacheCollisionLayer.splice(indexRemoveCollisionBlock, 1);\n      }\n    }\n  }\n\n  handleCollisionBlockOnUndo(x,y, layerIndex) {\n    let collidedTile = this.map.getTile(x, y, \"colissionLayer\");\n    if(collidedTile && collidedTile.properties) {\n      //remove collision block\n      if(collidedTile.properties.layer_index < layerIndex) {\n        this.cacheCollisionLayer.push(collidedTile);\n        this.map.removeTile(x, y, \"colissionLayer\")\n      }\n    } else {\n      //dont find the tile in the layer, so the tile might be in the deleted tiles\n      let indexRemoveCollisionBlock = 0;\n      const tileToInsert = this.cacheCollisionLayer.find((tile, index) => {\n        indexRemoveCollisionBlock = index;\n        return tile.x === x && tile.y === y;\n      });\n      if(!tileToInsert) {\n        return;\n      }\n      if(tileToInsert.properties.layer_index == layerIndex) {\n        let newTile = this.map.putTile(tileToInsert, tileToInsert.x, tileToInsert.y, \"colissionLayer\");\n        //copy property\n        newTile.properties = Object.assign({}, tileToInsert.properties);\n        if(!this.shouldPicked(newTile)) {\n          newTile.alpha = 0;\n        }\n        this.cacheCollisionLayer.splice(indexRemoveCollisionBlock, 1);\n      }\n    }\n  }\n\n  sortByLayerIndex(a, b) {\n    return a.layerIndex > b.layerIndex;\n  }\n\n  undoBlock(x, y, timerAnim = LengthAnimation) {\n    if(this.lockRollback) {\n      return;\n    }\n    const lengthX = CursorLength;\n    const lengthY = CursorLength;\n    const redoElementsArray = this.removedBlock.filter(list => list.x === x && list.y === y );\n    // no matching\n    if(redoElementsArray.length === 0) {\n      return\n    }\n    const redoElements = redoElementsArray.reduce((acc, elm) => {\n      if(elm.layerIndex < acc.layerIndex) {\n        return elm;\n      }\n      return acc;\n    });\n    if(redoElements) {\n      let indexRemoval = CursorLength;\n      redoElements.tiles.forEach(tile => {\n        if(!tile) {\n          return;\n        }\n        this.handleCollisionBlockOnUndo(tile.x, tile.y, redoElements.layerIndex);\n        let collidedTile = this.map.getTile(tile.x, tile.y, \"colissionLayer\");\n        if(collidedTile) {\n          collidedTile.isVisible = collidedTile.isVisible ? false : true;\n        }\n        const fn = () => {\n          this.map.putTile(tile, tile.x, tile.y, redoElements.layerIndex);\n        };\n        setTimeout(fn, indexRemoval * timerAnim);\n        indexRemoval--;\n        if(indexRemoval < 0) {\n          indexRemoval = CursorLength;\n        }\n      });\n      //remove the element after\n      const newArray = this.removedBlock.filter(elmt => elmt !== redoElements);\n      this.removedBlock = newArray.sort(this.sortByLayerIndex);\n    }\n  }\n\n  killGem() {\n    this.currentGems++;\n    if(this.nbGems === this.currentGems) {\n      this.showDoor();\n    }\n  }\n\n  portalEnable() {\n    return this.visibleDoor;\n  }\n\n  showDoor() {\n    this.visibleDoor = true;\n    this.doorSprites.forEach((tile, index) => {\n      tile.alpha = 1;\n    });\n  }\n\n  removeCollisionsAndAddElements(layerIndex) {\n    let props = [];\n    this.map.forEach((tile) => {\n      if(tile.properties && tile.properties.layer_index == layerIndex && tile.properties.removed_block) {\n        props.push({x:tile.x, y: tile.y});\n      }\n    });\n    props.forEach(coord => {\n      this.map.removeTile(coord.x, coord.y, \"colissionLayer\");\n      //this.map.removeTile(coord.x, coord.y, layerIndex); CHECK IF CORRECT\n      const defaultTile = DefaultTiles.find(object => object.layer_index == layerIndex);\n      this.map.putTile(defaultTile.tile, coord.x, coord.y, layerIndex);\n    });\n  }\n}\n\nexport default MapManager;",
    "import { BackgroundColor, TextColor } from \"../Constants.js\";\nimport Controls from \"../objects/Controls\";\n\nconst RatioButton = 0.75;\n\nclass Commands extends Phaser.State {\n\n  create() {\n    this.game.stage.setBackgroundColor(BackgroundColor);\n    const aimText = \"Mouse cursor / Arrow keys\";\n    const eraseLayer =  \"Spacebar\";\n\n    let group = this.game.add.group();\n    const button = this.game.make.button(800, 20, 'button', this.switchKeyboard, this, 2, 1, 0);\n    this.textInfo = this.game.add.text(870, 90, \"Qwerty\", { font: \"bold 14px Arial\", fill: \"#8cc169\", stroke: '#4D4D4D',strokeThickness: 1 });\n    group.add(button);\n\n    this.moveText = this.game.add.text(500, 125, \"\", { font: \"bold 32px Arial\", fill: TextColor });\n    this.jumpText = this.game.add.text(500, 200, \"\", { font: \"bold 32px Arial\", fill: TextColor });\n\n    this.game.add.text(350, 25, \"Commands\", { font: \"bold 52px Arial\", fill: \"#8cc169\", stroke: '#4D4D4D',strokeThickness: 1 });\n\n    this.game.add.text(50, 125, \"Move\", { font: \"bold 32px Arial\", fill: TextColor });\n    this.game.add.text(50, 200, \"Jump\", { font: \"bold 32px Arial\", fill: TextColor });\n    this.game.add.text(50, 275, \"Aim\", { font: \"bold 32px Arial\", fill: TextColor });\n    this.game.add.text(50, 350, \"Switch to inner layer\", { font: \"bold 32px Arial\", fill: TextColor });\n    this.game.add.text(50, 425, \"Rollback to previous layer\", { font: \"bold 32px Arial\", fill: TextColor });\n\n    this.game.add.text(350, 525, \"Press enter to start\", { font: \"bold 34px Arial\", fill: TextColor });\n\n    this.enterButton = this.game.input.keyboard.addKey(Phaser.Keyboard.ENTER);\n    this.game.input.gamepad.start();\n\n    let controls = new Controls(this.game);\n    controls.PostMortemDefaultConfig();\n    this.game.controls = controls;\n\n    if(this.game.controls.hasGamepad()) {\n      this.buttonA = this.game.controls.pad.getButton(Phaser.Gamepad.XBOX360_A);\n      this.buttonA.onDown.add(this.nextStep, this);\n\n      let imageA = this.game.add.image(490, 185, 'xbox360', '360_A');\n      imageA.scale.setTo(RatioButton, RatioButton);\n      let imageB = this.game.add.image(490, 335, 'xbox360', '360_B');\n      imageB.scale.setTo(RatioButton, RatioButton);\n      let imageX = this.game.add.image(490, 410, 'xbox360', '360_X');\n      imageX.scale.setTo(RatioButton, RatioButton);\n      let imageLeft = this.game.add.image(490, 260, 'xbox360', '360_Left_Stick');\n      imageLeft.scale.setTo(RatioButton, RatioButton);\n      let imageRight = this.game.add.image(490, 110, 'xbox360', '360_Right_Stick');\n      imageRight.scale.setTo(RatioButton, RatioButton);\n\n      group.alpha = 0;\n      this.textInfo.alpha = 0;\n    } else {\n      this.game.add.text(500, 275, aimText, { font: \"bold 32px Arial\", fill: TextColor });\n      this.game.add.text(500, 350, eraseLayer, { font: \"bold 32px Arial\", fill: TextColor });\n      this.game.add.text(500, 425, \"Shift\", { font: \"bold 32px Arial\", fill: TextColor });\n    }\n  }\n\n  nextStep() {\n    if(this.buttonA) {\n      this.buttonA.onDown = new Phaser.Signal();\n    }\n    this.game.goToIndroduction();\n  }\n\n  update() {\n    if(this.enterButton.isDown) {\n      this.game.goToIndroduction();\n    }\n    if(!this.game.controls.hasGamepad()) {\n      if(this.game.controls.isQwerty) {\n        this.moveText.setText(\"A / D keys\");\n        this.jumpText.setText(\"W key\");\n      } else {\n        this.moveText.setText(\"Q / D keys\");\n        this.jumpText.setText(\"Z key\");\n      }\n    }\n  }\n\n  preload() {\n    this.game.load.spritesheet('button', \"res/button_sprite_sheet.png\", 193, 71);\n    this.game.load.atlas('xbox360', 'res/xbox360.png', 'res/xbox360.json');\n  }\n\n  switchKeyboard() {\n    this.game.controls.toggleKeyboardType();\n    const text = this.game.controls.isQwerty ? \"Qwerty\" : \"Azerty\";\n    this.textInfo.setText(text);\n  }\n\n}\n\nexport default Commands;\n",
    "import { WidthSpriteSheetHero, HeightSpriteSheetHero, Width, Height, BabyRatio, HeroRatio } from '../Constants.js';\nimport { Tileset, Levels, HeroSprite } from '../ConstantsKey.js';\nimport MapManager from \"objects/MapManager\";\nimport Character from 'objects/Character';\n\nclass FinalScene extends Phaser.State {\n\n  constructor() {\n    super();\n  }\n\n  create() {\n      this.game.physics.startSystem(Phaser.Physics.ARCADE);\n\n      this.map = this.game.add.tilemap(Levels[`Level6`].key);\n      this.map.addTilesetImage(Levels[`Level6`].key, Tileset.key);\n\n      this.map.createLayer('thirdLayer');\n      this.map.createLayer('secondLayer');\n      this.map.createLayer('firstLayer');\n      // This resizes the game world to match the layer dimensions\n      this.collisionLayer = this.map.createLayer('colissionLayer');\n      this.map.setCollisionByExclusion([], true, this.collisionLayer);\n\n      this.collisionLayer.resizeWorld();\n\n      this.mapManager = new MapManager(this.map, Levels[`Level666`].lastLayer);\n      this.mapManager.setUpCollisionLayer(this.collisionLayer);\n\n      const originPositionBadGuy = Width + 300;\n      const originPositionBaby = Width + 300;\n      const originHeroPosition = - 100;\n\n      this.hero = this.game.add.sprite(originHeroPosition, 405, HeroSprite.key);\n      this.baby = this.game.add.sprite(originPositionBaby, 420, 'baby');\n      this.baby2 = this.game.add.sprite(originPositionBaby + 50, 420, 'baby2');\n      this.badGuy = this.game.add.sprite(originPositionBadGuy, 405, 'baby3');\n\n      this.baby.scale.setTo(-BabyRatio, BabyRatio);\n      this.baby2.scale.setTo(-BabyRatio, BabyRatio);\n      this.badGuy.scale.setTo(-HeroRatio, HeroRatio);\n      this.hero.scale.setTo(HeroRatio, HeroRatio);\n\n      console.log(this.hero.anchor)\n      this.baby.anchor.setTo(0.5, 0.5);\n      this.baby2.anchor.setTo(0.5, 0.5);\n      this.badGuy.anchor.setTo(0.5, 0.5);\n      this.hero.anchor.setTo(0.5, 0.5);\n\n      const timer = 4000;\n\n      let tweenA = this.game.add.tween(this.hero).to( { x: 200 }, timer, \"Quart.easeOut\");\n      let tweenB = this.game.add.tween(this.badGuy).to( { x: 900 }, 2000, \"Quart.easeOut\");\n      let tweenC = this.game.add.tween(this.baby).to( { x: 900 - 30 }, timer, \"Quart.easeOut\");\n      let tweenD = this.game.add.tween(this.baby2).to( { x: 900 + 30 }, timer, \"Quart.easeOut\");\n\n      this.tweenE = this.game.add.tween(this.baby).to( { x: originHeroPosition }, timer, \"Quart.easeOut\");\n      this.tweenF = this.game.add.tween(this.baby2).to( { x: originHeroPosition }, timer, \"Quart.easeOut\");\n\n      this.tweenG = this.game.add.tween(this.hero).to( { x: originHeroPosition }, timer * 1.5, \"Quart.easeOut\");\n      this.tweenJ = this.game.add.tween(this.badGuy).to( { x: originPositionBadGuy }, timer * 1.5, \"Quart.easeOut\");\n\n      tweenD.onComplete.add(this.catched, this);\n\n      tweenA.start();\n      tweenB.start();\n      tweenC.start();\n      tweenD.start();\n\n      this.tweensGems = []\n      this.gemSprite = [];\n      const items = [\"gem\", \"gem2\", \"gem3\"];\n      for(let i = 0; i < 25; ++i) {\n        let sprite = this.game.add.sprite(200 , 400, items[Math.floor(Math.random()*items.length)]);\n        sprite.visible = false;\n        this.gemSprite.push(sprite);\n        const tween = this.game.add.tween(sprite).to( { x: 900 }, timer - (200 * 25 / i), \"Quart.easeOut\");\n        this.tweensGems.push(tween);\n      }\n  }\n\n  catched() {\n    this.tweenE.start();\n    this.tweenF.start();\n    this.tweensGems.forEach(tween => tween.start());\n    this.gemSprite.forEach(sprite => sprite.visible = true);\n    this.tweenF.onComplete.add(() => {\n      this.tweenG.start();\n      this.tweenJ.start();\n      this.gemSprite.forEach(sprite => sprite.visible = false);\n      //flips\n      this.badGuy.scale.setTo(HeroRatio, HeroRatio);\n      this.hero.scale.setTo(-HeroRatio, HeroRatio);\n    }, this);\n\n     this.tweenJ.onComplete.add(() => {\n        this.game.goToMenu();\n     });\n  }\n\n  preload() {\n    this.game.load.spritesheet(HeroSprite.key, `res/${HeroSprite.path}`, WidthSpriteSheetHero, HeightSpriteSheetHero);\n    this.game.load.image(Tileset.key, `res/${Tileset.path}`);\n    this.game.load.tilemap(Levels[`Level666`].key, `res/${Levels[`Level666`].path}` , null, Phaser.Tilemap.TILED_JSON);\n    this.game.load.image(\"baby\", \"res/baby.png\");\n    this.game.load.image(\"baby2\", \"res/baby2.png\");\n    this.game.load.image(\"baby3\", \"res/baby3.png\");\n    this.game.load.image(\"gem\", \"res/gem.png\");\n    this.game.load.image(\"gem2\", \"res/gem2.png\");\n    this.game.load.image(\"gem3\", \"res/gem3.png\");\n  }\n\n  resetFade(TweensArray) {\n    return() => {\n      this.game.camera.resetFX();\n      TweensArray.forEach(tween => {\n        console.log(tween)\n        tween.start();\n      });\n    }\n  }\n\n}\n\nexport default FinalScene;\n",
    "import { WidthSpriteSheetHero, HeightSpriteSheetHero, Width, Height, BabyRatio, HeroRatio } from '../Constants.js';\nimport { Tileset, Levels, HeroSprite } from '../ConstantsKey.js';\nimport MapManager from \"objects/MapManager\";\nimport Character from 'objects/Character';\n\nconst originPositionBadGuy = 200;\nconst originPositionBaby = 900;\n\nclass Introduction extends Phaser.State {\n\n  constructor() {\n    super();\n  }\n\n  create() {\n    if(this.game.controls.hasGamepad()) {\n      this.buttonA = this.game.controls.pad.getButton(Phaser.Gamepad.XBOX360_A);\n      this.buttonA.onDown.add(this.next, this);\n    }\n    this.enterButton = this.game.input.keyboard.addKey(Phaser.Keyboard.ENTER);\n    this.enterButton.onDown.add(this.next, this);\n\n    this.game.physics.startSystem(Phaser.Physics.ARCADE);\n\n    this.map = this.game.add.tilemap(Levels[`Level666`].key);\n    this.map.addTilesetImage(Levels[`Level666`].key, Tileset.key);\n\n    this.map.createLayer('thirdLayer');\n    this.map.createLayer('secondLayer');\n    this.map.createLayer('firstLayer');\n    // This resizes the game world to match the layer dimensions\n    this.collisionLayer = this.map.createLayer('colissionLayer');\n    this.map.setCollisionByExclusion([], true, this.collisionLayer);\n\n    this.collisionLayer.resizeWorld();\n\n    this.mapManager = new MapManager(this.map, Levels[`Level6`].lastLayer);\n    this.mapManager.setUpCollisionLayer(this.collisionLayer);\n\n    const originPositionBadGuy = 200;\n    const originPositionBaby = 900;\n\n    this.baby = this.add.group();\n    this.baby.create(originPositionBaby, 800, 'baby');\n\n    this.baby2 = this.add.group();\n    this.baby2.create(originPositionBaby + 50, 800, 'baby2');\n\n    this.badGuy = this.game.add.sprite(originPositionBadGuy, 370, 'baby3');\n\n    this.baby.scale.setTo(BabyRatio, BabyRatio);\n    this.baby2.scale.setTo(BabyRatio, BabyRatio);\n    this.badGuy.scale.setTo(HeroRatio, HeroRatio);\n\n    const timer = 2000;\n\n    let tweenA = this.game.add.tween(this.badGuy).to( { y: 370 }, 500, \"Quart.easeOut\");\n    let tweenB = this.game.add.tween(this.badGuy).to( { x: 920 / 2 }, timer, \"Quart.easeOut\");\n    this.tweenF = this.game.add.tween(this.badGuy).to( { x: 920 }, timer, \"Quart.easeOut\");\n\n    this.tweenC = this.game.add.tween(this.badGuy).to( { x: Width + 600 }, timer + 1000 , \"Quart.easeOut\");\n    this.tweenD = this.game.add.tween(this.baby).to( { x: Width + 100 }, timer + 1000, \"Quart.easeOut\");\n    this.tweenE = this.game.add.tween(this.baby2).to( { x: Width + 10 }, timer + 1000, \"Quart.easeOut\");\n\n    tweenA.chain(tweenB);\n    tweenB.chain(this.tweenC);\n    tweenB.onComplete.add(this.catched, this);\n\n    tweenA.start();\n  }\n\n  catched() {\n    this.tweenF.start();\n    this.tweenC.start();\n    this.tweenD.start();\n    this.tweenE.start();\n\n    this.baby.create(originPositionBaby, 800, 'cage');\n    this.baby2.create(originPositionBaby + 50, 800, 'cage');\n\n    this.nbReboot = 0;\n\n    this.tweenE.onComplete.add(() => {\n      if(this.nbReboot > 1) {\n        this.game.goToMainGame();\n        return;\n      }\n      this.camera.fade(0x000000, 400, false);\n      this.game.camera.onFadeComplete.addOnce(this.resetFade([this.tweenC, this.tweenD, this.tweenE]), this);\n      this.mapManager.removeLayer();\n      this.badGuy.x = 150;\n      this.baby.x = -350;\n      this.baby2.x = -400;\n      this.nbReboot += 1;\n    }, this);\n\n  }\n\n  preload() {\n    this.game.load.spritesheet(HeroSprite.key, `res/${HeroSprite.path}`, WidthSpriteSheetHero, HeightSpriteSheetHero);\n    this.game.load.image(Tileset.key, `res/${Tileset.path}`);\n    this.game.load.tilemap(Levels[`Level666`].key, `res/${Levels[`Level666`].path}` , null, Phaser.Tilemap.TILED_JSON);\n    this.game.load.image(\"baby\", \"res/baby.png\");\n    this.game.load.image(\"baby2\", \"res/baby2.png\");\n    this.game.load.image(\"baby3\", \"res/baby3.png\");\n    this.game.load.image(\"cage\", \"res/cage.png\");\n  }\n\n  resetFade(TweensArray) {\n    return() => {\n      this.game.camera.resetFX();\n      TweensArray.forEach(tween => {\n        tween.start();\n      });\n    }\n  }\n\n  next() {\n    if(this.buttonA) {\n      this.buttonA.onDown = new Phaser.Signal();\n    }\n    this.game.goToMainGame();\n  }\n\n}\n\nexport default Introduction;\n",
    "import { BackgroundColor, TextColor } from \"../Constants.js\";\nimport Controls from \"objects/Controls\";\n\nclass MainMenu extends Phaser.State {\n\n  create() {\n    if(this.game.controls.hasGamepad()) {\n      this.buttonA = this.game.controls.pad.getButton(Phaser.Gamepad.XBOX360_A);\n      this.buttonA.onDown.add(this.next, this);\n    }\n    this.enterButton = this.game.input.keyboard.addKey(Phaser.Keyboard.ENTER);\n    this.enterButton.onDown.add(this.next, this);\n\n    this.game.stage.setBackgroundColor(BackgroundColor);\n    this.game.add.sprite(20,500, \"LD\");\n    this.game.add.sprite(0,0, \"background\");\n    this.game.add.text(350, 400, \"Press enter to start\", { font: \"bold 34px Arial\", fill: TextColor });\n    this.game.add.text(700, 530, \"Thanks for playing ! :)\", { font: \"bold 19px Arial\", fill: TextColor })\n  }\n\n  init() {\n    if(!this.game.controls) {\n      let controls = new Controls(this.game);\n      controls.PostMortemDefaultConfig();\n      this.game.controls = controls;\n    }\n  }\n\n  preload() {\n    this.game.load.image(\"LD\", \"res/LD.png\");\n    this.game.load.image(\"background\", \"res/menu.png\");\n  }\n\n  next() {\n    if(this.buttonA) {\n      this.buttonA.onDown = new Phaser.Signal();\n    }\n    this.game.goToCommands();\n  }\n\n}\n\nexport default MainMenu;\n",
    "import { WidthSpriteSheetHero, HeightSpriteSheetHero, Size, CursorSize, Width, Height, HudText, HudTextX, HudTextY, WidthLevel } from '../Constants.js';\nimport { Tileset, Level1, Levels, HeroSprite, MaxLevel } from '../ConstantsKey.js';\nimport Character from 'objects/Character';\nimport InformationString from 'objects/InformationString';\n\nimport MapManager from \"objects/MapManager\";\nimport Controls from \"objects/Controls\";\n\nclass MainView extends Phaser.State {\n\n  constructor() {\n    super();\n  }\n\n  init(indexLevel) {\n    this.indexLevel = indexLevel || 1;\n    this.hasLevel = MaxLevel >= this.indexLevel;\n    if(!this.game.controls) {\n      let controls = new Controls(this.game);\n      controls.PostMortemDefaultConfig();\n      this.game.controls = controls;\n    }\n    //no more levels :|\n  }\n\n  create() {\n    if(!this.hasLevel) {\n      this.game.goToFinalScene();\n    } else {\n\n      this.game.physics.startSystem(Phaser.Physics.ARCADE);\n      // Add the physics engine to all game objects\n      this.game.world.enableBody = true;\n\n      this.map = this.game.add.tilemap(Levels[`Level${this.indexLevel}`].key);\n      this.map.addTilesetImage(Levels[`Level${this.indexLevel}`].key, Tileset.key);\n\n\n      this.map.createLayer('thirdLayer');\n      this.map.createLayer('secondLayer');\n      this.map.createLayer('firstLayer');\n      // This resizes the game world to match the layer dimensions\n      this.collisionLayer = this.map.createLayer('colissionLayer');\n      this.map.setCollisionByExclusion([], true, this.collisionLayer);\n\n      this.collisionLayer.resizeWorld();\n\n      this.hero = new Character(this.game, Levels[`Level${this.indexLevel}`].playerPosition.x , Levels[`Level${this.indexLevel}`].playerPosition.y, HeroSprite.key, 0);\n      this.game.add.existing(this.hero);\n      this.game.camera.follow(this.hero);\n\n      this.marker = null;\n      this.createTileSelector();\n      this.game.input.addMoveCallback(this.updateMarker, this);\n\n      this.mapManager = new MapManager(this.map, Levels[`Level${this.indexLevel}`].lastLayer);\n      this.mapManager.setUpCollisionLayer(this.collisionLayer);\n\n      this.text = new InformationString(this.game, Width/2, Levels[`Level${this.indexLevel}`].text );\n      this.game.add.existing(this.text);\n      this.text.blink();\n\n      this.hud = this.game.add.text(400, 400, HudText, { font: \"bold 22px Arial\", fill: '#FFFFFF' });\n      this.hud.x = this.game.camera.x + HudTextX;\n      this.hud.y = this.game.camera.y + HudTextY;\n\n      this.keyRemoveLayer = this.game.input.keyboard.addKey(this.game.controls.getKey(\"undoLayer\"));\n      this.keyRemoveLayer.onDown.add(this.eraseBlockKeyboard, this);\n      this.keyUndoLayer = this.game.input.keyboard.addKey(this.game.controls.getKey(\"removeLayer\"));\n      this.keyUndoLayer.onDown.add(this.undoBlockKeyboard, this);\n\n      if(this.game.controls.hasGamepad()) {\n        let buttonB = this.game.controls.pad.getButton(Phaser.Gamepad.XBOX360_B);\n        buttonB.onDown.add(this.eraseBlockKeyboard, this);\n\n        let buttonX = this.game.controls.pad.getButton(Phaser.Gamepad.XBOX360_X);\n        buttonX.onDown.add(this.undoBlockKeyboard, this);\n      }\n      this.keyUpLayer = this.game.input.keyboard.addKey(this.game.controls.getKey(\"moveUpCursor\"));\n      this.keyUpLayer.onDown.add(this.moveUp, this);\n      this.keyDownLayer = this.game.input.keyboard.addKey(this.game.controls.getKey(\"moveDownCursor\"));\n      this.keyDownLayer.onDown.add(this.moveDown, this);\n      this.keyLeftLayer = this.game.input.keyboard.addKey(this.game.controls.getKey(\"moveLeftCursor\"));\n      this.keyLeftLayer.onDown.add(this.moveLeft, this);\n      this.keyRightLayer = this.game.input.keyboard.addKey(this.game.controls.getKey(\"moveRightCursor\"));\n      this.keyRightLayer.onDown.add(this.moveRight, this);\n      this.game.time.advancedTiming = true;\n    }\n  }\n\n\n  update() {\n    this.game.physics.arcade.overlap(this.hero, this.collisionLayer, this.additionalCheckOverlap, null , this);\n    this.game.physics.arcade.collide(this.hero, this.collisionLayer, this.additionalCheckCollide, this.hasPortal, this);\n    if(this.hero.y > Height + this.hero.height) {\n      this.game.reset();\n    }\n    if(this.game.controls.hasGamepad()) {\n      this.commandsPad();\n    }\n    this.updateGui();\n  }\n\n  commandsPad() {\n    if(!this.game.controls.isMovingRightPad) {\n      this.game.controls.isMovingRightPad = true;\n      this.game.controls.delayControl(50)\n      if (this.game.controls.pad.axis(Phaser.Gamepad.XBOX360_STICK_RIGHT_X) < -0.5 ) {\n        this.moveLeft();\n      }\n      else if (this.game.controls.pad.axis(Phaser.Gamepad.XBOX360_STICK_RIGHT_X) > 0.5) {\n        this.moveRight();\n      }\n\n      if (this.game.controls.pad.axis(Phaser.Gamepad.XBOX360_STICK_RIGHT_Y) < -0.5) {\n        this.moveUp();\n      } else if (this.game.controls.pad.axis(Phaser.Gamepad.XBOX360_STICK_RIGHT_Y) > 0.5) {\n        this.moveDown();\n      }\n    }\n  }\n\n  updateGui() {\n    this.hud.setText(HudText + this.mapManager.currentGems + \" / \" + this.mapManager.nbGems);\n    this.hud.x = this.game.camera.x + HudTextX;\n    this.hud.y = this.game.camera.y + HudTextY;\n\n  }\n\n  hasPortal(tile1, tile2) {\n    if(tile2.properties && tile2.properties.portal == 1 && !this.mapManager.portalEnable()) {\n      return false;\n    }\n    return true;\n  }\n\n  additionalCheckCollide(tile1, tile2) {\n    if(tile2.properties.portal == 1 && this.mapManager.portalEnable()) {\n      //maybe make an animation\n      this.game.nextLevel();\n    }\n  }\n\n  additionalCheckOverlap(tile1, tile2) {\n    if(!tile2.properties) {\n      return;\n    }\n\n    if(tile2.properties.layer_gem == 1) {\n      if(tile2.properties.layer_destroy) {\n        this.mapManager.removeLayer();\n      } else if (tile2.properties.layer_rollback) {\n        this.mapManager.undoLayer();\n      }\n      this.map.removeTile(tile2.x, tile2.y, \"colissionLayer\");\n      return;\n    }\n\n    if(tile2.properties.is_gem == 1) {\n      this.map.removeTile(tile2.x, tile2.y, \"colissionLayer\");\n      this.mapManager.killGem();\n      return;\n    }\n\n    if(tile2.properties.trigger) {\n      this.mapManager.removeCollisionsAndAddElements(tile2.properties.layer_index);\n      this.map.removeTile(tile2.x, tile2.y, \"colissionLayer\");\n      return;\n    }\n  }\n\n  preload() {\n    this.game.load.spritesheet(HeroSprite.key, `res/${HeroSprite.path}`, WidthSpriteSheetHero, HeightSpriteSheetHero);\n    this.game.load.image(Tileset.key, `res/${Tileset.path}`);\n    if(this.hasLevel) {\n      this.game.load.tilemap(Levels[`Level${this.indexLevel}`].key, `res/${Levels[`Level${this.indexLevel}`].path}` , null, Phaser.Tilemap.TILED_JSON);\n    }\n  }\n\n  render() {\n    //this.game.debug.text(this.game.time.fps, 2, 16, \"#00ff00\");\n  }\n\n  eraseBlockKeyboard() {\n    this.mapManager.eraseBlock(this.marker.x / Size, this.marker.y / Size);\n    this.hero.eraseBlocksAnimation(this.marker);\n  }\n\n  undoBlockKeyboard() {\n    this.mapManager.undoBlock(this.marker.x / Size, this.marker.y / Size);\n    this.hero.eraseBlocksAnimation(this.marker);\n  }\n\n  updateMarker() {\n    this.marker.x = this.game.math.snapToFloor(this.game.input.activePointer.worldX, CursorSize, 0);\n    this.marker.y = this.game.math.snapToFloor(this.game.input.activePointer.worldY, CursorSize, 0);\n\n    if (this.game.input.mousePointer.isDown && this.marker.y > Size) {\n      this.mapManager.eraseBlock(this.marker.x / Size, this.marker.y / Size);\n      this.hero.eraseBlocksAnimation(this.marker);\n    }\n  }\n\n  createTileSelector() {\n    //Our painting marker\n    this.marker = this.game.add.graphics();\n    this.marker.lineStyle(2, 0xea4335, 1);\n    this.marker.drawRect(0, 0, CursorSize, CursorSize);\n    this.marker.x = 4 * CursorSize;\n    this.marker.y = 4 * CursorSize;\n  }\n\n  moveUp() {\n    this.marker.y -= CursorSize;\n    if(this.marker.y < 0) {\n      this.marker.y = 0;\n    }\n  }\n\n  moveDown() {\n    this.marker.y += CursorSize;\n    if(this.marker.y > Height) {\n      this.marker.y -= CursorSize;\n    }\n  }\n\n  moveLeft() {\n    this.marker.x -= CursorSize;\n    if(this.marker.x < 0) {\n      this.marker.x = 0;\n    }\n  }\n\n  moveRight() {\n    this.marker.x += CursorSize;\n    if(this.marker.x > WidthLevel) {\n      this.marker.x -= CursorSize;\n    }\n  }\n\n}\n\nexport default MainView;\n"
  ]
}